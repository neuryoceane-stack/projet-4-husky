---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout 
  title="Contact - Chalet Husky"
  description="Contactez-nous pour r√©server votre s√©jour au Chalet Husky aux 2 Alpes. Disponibilit√©s, tarifs et informations personnalis√©es."
>
  <section class="section" style="padding-top: var(--spacing-xl);">
    <div class="container">
      <div style="max-width: 800px; margin: 0 auto;">
        <h1 class="text-center mb-lg">Contactez-nous</h1>
        <p class="text-center" style="font-size: var(--font-size-lg); margin-bottom: var(--spacing-lg);">
          Une question ? Une demande de r√©servation ? Notre √©quipe est √† votre √©coute pour vous accompagner dans l'organisation de votre s√©jour au Chalet Husky.
        </p>
        
        <div id="confirmation" class="confirmation-message" style="display: none;">
          <p>‚úì Votre message a √©t√© pr√©par√©. Votre client de messagerie va s'ouvrir. Si ce n'est pas le cas, envoyez-nous un email directement √† <a href="mailto:contact@chalethusky.fr">contact@chalethusky.fr</a></p>
        </div>
        
        <form class="contact-form" id="contact-form">
          <div class="form-group">
            <label for="name" class="form-label">Nom complet *</label>
            <input 
              type="text" 
              id="name" 
              name="name" 
              class="form-input" 
              required
              aria-required="true"
            />
          </div>
          
          <div class="form-group">
            <label for="email" class="form-label">Email *</label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              class="form-input" 
              required
              aria-required="true"
            />
          </div>
          
          <div class="form-group">
            <label for="phone" class="form-label">T√©l√©phone</label>
            <input 
              type="tel" 
              id="phone" 
              name="phone" 
              class="form-input"
            />
          </div>
          
          <div class="form-group">
            <label for="dates" class="form-label">Dates souhait√©es</label>
            <input 
              type="text" 
              id="dates" 
              name="dates" 
              class="form-input"
              placeholder="Ex: Du 15 au 22 d√©cembre 2024"
            />
          </div>
          
          <div class="form-group">
            <label for="message" class="form-label">Message *</label>
            <textarea 
              id="message" 
              name="message" 
              class="form-textarea" 
              required
              aria-required="true"
              placeholder="D√©crivez votre demande de r√©servation ou posez vos questions..."
            ></textarea>
          </div>
          
          <button type="submit" class="btn btn-primary btn-large" style="width: 100%;">
            Envoyer ma demande
          </button>
          
          <p style="margin-top: var(--spacing-sm); font-size: 0.875rem; color: var(--color-text-light); text-align: center;">
            * Champs obligatoires. Nous vous r√©pondrons dans les plus brefs d√©lais.
          </p>
        </form>
      </div>
    </div>
  </section>

  <section class="section section-alt">
    <div class="container">
      <h2 class="text-center mb-lg">Nos coordonn√©es</h2>
      
      <div class="grid grid-3">
        <div class="card text-center">
          <h3>üìç Adresse</h3>
          <p>
            Chalet Husky<br />
            Les 2 Alpes<br />
            38860 Is√®re<br />
            France
          </p>
        </div>
        
        <div class="card text-center">
          <h3>üìû T√©l√©phone</h3>
          <p>
            <a href="tel:+33600000000" style="font-size: var(--font-size-lg);">
              +33 6 00 00 00 00
            </a><br />
            <span style="font-size: 0.875rem; color: var(--color-text-light);">
              Du lundi au samedi<br />
              9h - 19h
            </span>
          </p>
        </div>
        
        <div class="card text-center">
          <h3>‚úâÔ∏è Email</h3>
          <p>
            <a href="mailto:contact@chalethusky.fr" style="font-size: var(--font-size-lg);">
              contact@chalethusky.fr
            </a><br />
            <span style="font-size: 0.875rem; color: var(--color-text-light);">
              R√©ponse sous 24-48h
            </span>
          </p>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <div style="max-width: 700px; margin: 0 auto;">
        <h2 class="text-center mb-lg">Questions fr√©quentes</h2>
        
        <div class="faq-list">
          <div class="faq-item card">
            <h3>Comment r√©server le Chalet Husky ?</h3>
            <p>Remplissez le formulaire ci-dessus ou contactez-nous par t√©l√©phone ou email. Nous vous r√©pondrons rapidement avec les disponibilit√©s et un devis personnalis√©.</p>
          </div>
          
          <div class="faq-item card">
            <h3>Quels sont les moyens de paiement accept√©s ?</h3>
            <p>Nous acceptons les virements bancaires et les ch√®ques. Un acompte de 30% est demand√© √† la r√©servation, le solde √©tant r√©gl√© un mois avant l'arriv√©e.</p>
          </div>
          
          <div class="faq-item card">
            <h3>Le chalet est-il accessible en transport en commun ?</h3>
            <p>Oui, des navettes r√©guli√®res relient la gare de Grenoble et l'a√©roport aux 2 Alpes. Le chalet est √©galement accessible √† pied depuis le centre de la station.</p>
          </div>
          
          <div class="faq-item card">
            <h3>Y a-t-il une caution √† pr√©voir ?</h3>
            <p>Oui, une caution de 500‚Ç¨ est demand√©e et sera restitu√©e int√©gralement apr√®s v√©rification de l'√©tat des lieux de sortie, dans un d√©lai de 7 jours.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contact-form') as HTMLFormElement;
    const confirmation = document.getElementById('confirmation');
    
    if (form) {
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        
        // Pr√©paration du mailto avec les donn√©es du formulaire
        const name = formData.get('name') as string;
        const email = formData.get('email') as string;
        const phone = formData.get('phone') as string;
        const dates = formData.get('dates') as string;
        const message = formData.get('message') as string;
        
        const subject = encodeURIComponent(`Demande de r√©servation - Chalet Husky - ${name}`);
        const body = encodeURIComponent(
          `Bonjour,\n\n` +
          `Je souhaite obtenir des informations pour une r√©servation.\n\n` +
          `Nom: ${name}\n` +
          `Email: ${email}\n` +
          `T√©l√©phone: ${phone || 'Non renseign√©'}\n` +
          `Dates souhait√©es: ${dates || 'Non renseign√©'}\n\n` +
          `Message:\n${message}\n\n` +
          `Cordialement`
        );
        
        window.location.href = `mailto:contact@chalethusky.fr?subject=${subject}&body=${body}`;
        
        // Affichage du message de confirmation
        if (confirmation) {
          confirmation.style.display = 'block';
          form.reset();
          setTimeout(() => {
            confirmation.style.display = 'none';
          }, 5000);
        }
      });
    }
  });
</script>

<style>
  .contact-form {
    background: white;
    padding: var(--spacing-lg);
    border-radius: 8px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  }
  
  .confirmation-message {
    background-color: #E8F5E9;
    border: 2px solid #4CAF50;
    color: #2E7D32;
    padding: var(--spacing-md);
    border-radius: 4px;
    margin-bottom: var(--spacing-md);
    text-align: center;
  }
  
  .confirmation-message a {
    color: #2E7D32;
    font-weight: 600;
    text-decoration: underline;
  }
  
  .faq-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .faq-item h3 {
    color: var(--color-sapin);
    margin-bottom: var(--spacing-xs);
    font-size: var(--font-size-xl);
  }
  
  .faq-item p {
    margin: 0;
    line-height: 1.8;
  }
  
  @media (max-width: 768px) {
    .contact-form {
      padding: var(--spacing-md);
    }
  }
</style>
